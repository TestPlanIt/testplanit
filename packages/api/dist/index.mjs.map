{"version":3,"sources":["../src/client.ts"],"names":[],"mappings":";AAgCO,IAAM,eAAA,GAAN,cAA8B,KAAA,CAAM;AAAA,EAClC,UAAA;AAAA,EACA,IAAA;AAAA,EACA,OAAA;AAAA,EAEP,WAAA,CAAY,SAAiB,OAAA,EAA6B;AACxD,IAAA,KAAA,CAAM,OAAO,CAAA;AACb,IAAA,IAAA,CAAK,IAAA,GAAO,iBAAA;AACZ,IAAA,IAAA,CAAK,aAAa,OAAA,EAAS,UAAA;AAC3B,IAAA,IAAA,CAAK,OAAO,OAAA,EAAS,IAAA;AACrB,IAAA,IAAA,CAAK,UAAU,OAAA,EAAS,OAAA;AAAA,EAC1B;AACF;AAuBO,IAAM,mBAAN,MAAuB;AAAA,EACX,OAAA;AAAA,EACA,QAAA;AAAA,EACA,OAAA;AAAA,EACA,UAAA;AAAA,EACA,UAAA;AAAA,EACA,OAAA;AAAA;AAAA,EAGT,WAAA,uBAAyC,GAAA,EAAI;AAAA,EAErD,YAAY,MAAA,EAAgC;AAC1C,IAAA,IAAI,CAAC,OAAO,OAAA,EAAS;AACnB,MAAA,MAAM,IAAI,gBAAgB,qBAAqB,CAAA;AAAA,IACjD;AACA,IAAA,IAAI,CAAC,OAAO,QAAA,EAAU;AACpB,MAAA,MAAM,IAAI,gBAAgB,sBAAsB,CAAA;AAAA,IAClD;AAGA,IAAA,IAAA,CAAK,OAAA,GAAU,MAAA,CAAO,OAAA,CAAQ,OAAA,CAAQ,OAAO,EAAE,CAAA;AAC/C,IAAA,IAAA,CAAK,WAAW,MAAA,CAAO,QAAA;AACvB,IAAA,IAAA,CAAK,OAAA,GAAU,OAAO,OAAA,IAAW,GAAA;AACjC,IAAA,IAAA,CAAK,UAAA,GAAa,OAAO,UAAA,IAAc,CAAA;AACvC,IAAA,IAAA,CAAK,UAAA,GAAa,OAAO,UAAA,IAAc,GAAA;AACvC,IAAA,IAAA,CAAK,OAAA,GAAU,MAAA,CAAO,OAAA,IAAW,EAAC;AAAA,EACpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,MAAc,OAAA,CACZ,MAAA,EACA,IAAA,EACA,OAAA,EAKY;AACZ,IAAA,MAAM,GAAA,GAAM,IAAI,GAAA,CAAI,IAAA,EAAM,KAAK,OAAO,CAAA;AAGtC,IAAA,IAAI,SAAS,KAAA,EAAO;AAClB,MAAA,KAAA,MAAW,CAAC,KAAK,KAAK,CAAA,IAAK,OAAO,OAAA,CAAQ,OAAA,CAAQ,KAAK,CAAA,EAAG;AACxD,QAAA,IAAI,UAAU,MAAA,EAAW;AACvB,UAAA,GAAA,CAAI,YAAA,CAAa,GAAA,CAAI,GAAA,EAAK,MAAA,CAAO,KAAK,CAAC,CAAA;AAAA,QACzC;AAAA,MACF;AAAA,IACF;AAEA,IAAA,MAAM,OAAA,GAAkC;AAAA,MACtC,aAAA,EAAe,CAAA,OAAA,EAAU,IAAA,CAAK,QAAQ,CAAA,CAAA;AAAA,MACtC,cAAA,EAAgB,kBAAA;AAAA,MAChB,GAAG,IAAA,CAAK,OAAA;AAAA,MACR,GAAG,OAAA,EAAS;AAAA,KACd;AAEA,IAAA,MAAM,YAAA,GAA4B;AAAA,MAChC,MAAA;AAAA,MACA,OAAA;AAAA,MACA,MAAA,EAAQ,WAAA,CAAY,OAAA,CAAQ,IAAA,CAAK,OAAO;AAAA,KAC1C;AAEA,IAAA,IAAI,OAAA,EAAS,IAAA,IAAQ,MAAA,KAAW,KAAA,EAAO;AACrC,MAAA,YAAA,CAAa,IAAA,GAAO,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ,IAAI,CAAA;AAAA,IACjD;AAEA,IAAA,IAAI,SAAA;AAEJ,IAAA,KAAA,IAAS,OAAA,GAAU,CAAA,EAAG,OAAA,IAAW,IAAA,CAAK,YAAY,OAAA,EAAA,EAAW;AAC3D,MAAA,IAAI;AACF,QAAA,MAAM,WAAW,MAAM,KAAA,CAAM,GAAA,CAAI,QAAA,IAAY,YAAY,CAAA;AAEzD,QAAA,IAAI,CAAC,SAAS,EAAA,EAAI;AAChB,UAAA,MAAM,SAAA,GAAY,MAAM,QAAA,CAAS,IAAA,EAAK;AACtC,UAAA,IAAI,eAAe,CAAA,KAAA,EAAQ,QAAA,CAAS,MAAM,CAAA,EAAA,EAAK,SAAS,UAAU,CAAA,CAAA;AAClE,UAAA,IAAI,YAAA;AAEJ,UAAA,IAAI;AACF,YAAA,MAAM,MAAA,GAAS,IAAA,CAAK,KAAA,CAAM,SAAS,CAAA;AACnC,YAAA,YAAA,GAAe,MAAA,CAAO,OAAA,IAAW,MAAA,CAAO,KAAA,IAAS,YAAA;AACjD,YAAA,YAAA,GAAe,MAAA;AAAA,UACjB,CAAA,CAAA,MAAQ;AAEN,YAAA,IAAI,SAAA,EAAW;AACb,cAAA,YAAA,GAAe,SAAA;AAAA,YACjB;AAAA,UACF;AAEA,UAAA,MAAM,IAAI,gBAAgB,YAAA,EAAc;AAAA,YACtC,YAAY,QAAA,CAAS,MAAA;AAAA,YACrB,OAAA,EAAS;AAAA,WACV,CAAA;AAAA,QACH;AAGA,QAAA,MAAM,IAAA,GAAO,MAAM,QAAA,CAAS,IAAA,EAAK;AACjC,QAAA,IAAI,CAAC,IAAA,EAAM;AACT,UAAA,OAAO,KAAA,CAAA;AAAA,QACT;AAEA,QAAA,OAAO,IAAA,CAAK,MAAM,IAAI,CAAA;AAAA,MACxB,SAAS,KAAA,EAAO;AACd,QAAA,SAAA,GAAY,iBAAiB,KAAA,GAAQ,KAAA,GAAQ,IAAI,KAAA,CAAM,MAAA,CAAO,KAAK,CAAC,CAAA;AAGpE,QAAA,IAAI,iBAAiB,eAAA,EAAiB;AACpC,UAAA,IAAI,KAAA,CAAM,UAAA,IAAc,KAAA,CAAM,UAAA,IAAc,GAAA,IAAO,MAAM,UAAA,GAAa,GAAA,IAAO,KAAA,CAAM,UAAA,KAAe,GAAA,EAAK;AACrG,YAAA,MAAM,KAAA;AAAA,UACR;AAAA,QACF;AAGA,QAAA,IAAI,OAAA,GAAU,KAAK,UAAA,EAAY;AAC7B,UAAA,MAAM,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,UAAA,IAAc,UAAU,CAAA,CAAE,CAAA;AAAA,QAClD;AAAA,MACF;AAAA,IACF;AAEA,IAAA,MAAM,SAAA;AAAA,EACR;AAAA;AAAA;AAAA;AAAA,EAKA,MAAc,eAAA,CACZ,MAAA,EACA,IAAA,EACA,UACA,OAAA,EAGY;AACZ,IAAA,MAAM,GAAA,GAAM,IAAI,GAAA,CAAI,IAAA,EAAM,KAAK,OAAO,CAAA;AAEtC,IAAA,IAAI,SAAS,KAAA,EAAO;AAClB,MAAA,KAAA,MAAW,CAAC,KAAK,KAAK,CAAA,IAAK,OAAO,OAAA,CAAQ,OAAA,CAAQ,KAAK,CAAA,EAAG;AACxD,QAAA,IAAI,UAAU,MAAA,EAAW;AACvB,UAAA,GAAA,CAAI,YAAA,CAAa,GAAA,CAAI,GAAA,EAAK,MAAA,CAAO,KAAK,CAAC,CAAA;AAAA,QACzC;AAAA,MACF;AAAA,IACF;AAEA,IAAA,MAAM,OAAA,GAAkC;AAAA,MACtC,aAAA,EAAe,CAAA,OAAA,EAAU,IAAA,CAAK,QAAQ,CAAA,CAAA;AAAA,MACtC,GAAG,IAAA,CAAK;AAAA,KACV;AAGA,IAAA,MAAM,YAAA,GAA4B;AAAA,MAChC,MAAA;AAAA,MACA,OAAA;AAAA,MACA,IAAA,EAAM,QAAA;AAAA,MACN,MAAA,EAAQ,WAAA,CAAY,OAAA,CAAQ,IAAA,CAAK,OAAO;AAAA,KAC1C;AAEA,IAAA,MAAM,WAAW,MAAM,KAAA,CAAM,GAAA,CAAI,QAAA,IAAY,YAAY,CAAA;AAEzD,IAAA,IAAI,CAAC,SAAS,EAAA,EAAI;AAChB,MAAA,MAAM,SAAA,GAAY,MAAM,QAAA,CAAS,IAAA,EAAK;AACtC,MAAA,IAAI,eAAe,CAAA,KAAA,EAAQ,QAAA,CAAS,MAAM,CAAA,EAAA,EAAK,SAAS,UAAU,CAAA,CAAA;AAElE,MAAA,IAAI;AACF,QAAA,MAAM,MAAA,GAAS,IAAA,CAAK,KAAA,CAAM,SAAS,CAAA;AACnC,QAAA,YAAA,GAAe,MAAA,CAAO,OAAA,IAAW,MAAA,CAAO,KAAA,IAAS,YAAA;AAAA,MACnD,CAAA,CAAA,MAAQ;AACN,QAAA,IAAI,SAAA,EAAW;AACb,UAAA,YAAA,GAAe,SAAA;AAAA,QACjB;AAAA,MACF;AAEA,MAAA,MAAM,IAAI,eAAA,CAAgB,YAAA,EAAc,EAAE,UAAA,EAAY,QAAA,CAAS,QAAQ,CAAA;AAAA,IACzE;AAEA,IAAA,MAAM,IAAA,GAAO,MAAM,QAAA,CAAS,IAAA,EAAK;AACjC,IAAA,IAAI,CAAC,IAAA,EAAM;AACT,MAAA,OAAO,MAAA;AAAA,IACT;AAEA,IAAA,OAAO,IAAA,CAAK,MAAM,IAAI,CAAA;AAAA,EACxB;AAAA,EAEQ,MAAM,EAAA,EAA2B;AACvC,IAAA,OAAO,IAAI,OAAA,CAAQ,CAAC,YAAY,UAAA,CAAW,OAAA,EAAS,EAAE,CAAC,CAAA;AAAA,EACzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,MAAM,WAAW,SAAA,EAAqC;AACpD,IAAA,OAAO,IAAA,CAAK,OAAA,CAAiB,KAAA,EAAO,CAAA,cAAA,EAAiB,SAAS,CAAA,CAAE,CAAA;AAAA,EAClE;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,YAAA,GAAmC;AACvC,IAAA,OAAO,IAAA,CAAK,OAAA,CAAmB,KAAA,EAAO,eAAe,CAAA;AAAA,EACvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,MAAM,YAAY,SAAA,EAAsC;AAEtD,IAAA,IAAI,IAAA,CAAK,WAAA,CAAY,GAAA,CAAI,SAAS,CAAA,EAAG;AACnC,MAAA,OAAO,IAAA,CAAK,WAAA,CAAY,GAAA,CAAI,SAAS,CAAA;AAAA,IACvC;AAEA,IAAA,MAAM,WAAW,MAAM,IAAA,CAAK,QAAkB,KAAA,EAAO,CAAA,cAAA,EAAiB,SAAS,CAAA,SAAA,CAAW,CAAA;AAC1F,IAAA,IAAA,CAAK,WAAA,CAAY,GAAA,CAAI,SAAA,EAAW,QAAQ,CAAA;AACxC,IAAA,OAAO,QAAA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,WAAA,CAAY,SAAA,EAAmB,MAAA,EAAuD;AAC1F,IAAA,MAAM,QAAA,GAAW,MAAM,IAAA,CAAK,WAAA,CAAY,SAAS,CAAA;AAGjD,IAAA,MAAM,aAAA,GAAoD;AAAA,MACxD,MAAA,EAAQ,CAAC,QAAA,EAAU,MAAA,EAAQ,SAAS,CAAA;AAAA,MACpC,MAAA,EAAQ,CAAC,QAAA,EAAU,MAAA,EAAQ,WAAW,OAAO,CAAA;AAAA,MAC7C,OAAA,EAAS,CAAC,SAAA,EAAW,MAAA,EAAQ,SAAS,CAAA;AAAA,MACtC,OAAA,EAAS,CAAC,SAAA,EAAW,OAAO,CAAA;AAAA,MAC5B,OAAA,EAAS,CAAC,SAAA,EAAW,UAAA,EAAY,SAAS;AAAA,KAC5C;AAEA,IAAA,MAAM,WAAA,GAAc,cAAc,MAAM,CAAA;AAExC,IAAA,KAAA,MAAW,cAAc,WAAA,EAAa;AACpC,MAAA,MAAM,QAAQ,QAAA,CAAS,IAAA;AAAA,QACrB,CAAC,CAAA,KACC,CAAA,CAAE,UAAA,CAAW,WAAA,OAAkB,UAAA,IAC/B,CAAA,CAAE,IAAA,CAAK,WAAA,OAAkB,UAAA,IACzB,CAAA,CAAE,SAAS,WAAA,EAAY,CAAE,SAAS,UAAU;AAAA,OAChD;AACA,MAAA,IAAI,KAAA,EAAO;AACT,QAAA,OAAO,KAAA,CAAM,EAAA;AAAA,MACf;AAAA,IACF;AAEA,IAAA,OAAO,MAAA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKA,gBAAA,GAAyB;AACvB,IAAA,IAAA,CAAK,YAAY,KAAA,EAAM;AAAA,EACzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,MAAM,cAAc,OAAA,EAAiD;AACnE,IAAA,OAAO,IAAA,CAAK,OAAA,CAAiB,MAAA,EAAQ,gBAAA,EAAkB;AAAA,MACrD,IAAA,EAAM;AAAA,QACJ,WAAW,OAAA,CAAQ,SAAA;AAAA,QACnB,MAAM,OAAA,CAAQ,IAAA;AAAA,QACd,WAAA,EAAa,QAAQ,WAAA,IAAe,SAAA;AAAA,QACpC,UAAU,OAAA,CAAQ,QAAA;AAAA,QAClB,aAAa,OAAA,CAAQ,WAAA;AAAA,QACrB,SAAS,OAAA,CAAQ;AAAA;AACnB,KACD,CAAA;AAAA,EACH;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,WAAW,SAAA,EAAqC;AACpD,IAAA,OAAO,IAAA,CAAK,OAAA,CAAiB,KAAA,EAAO,CAAA,eAAA,EAAkB,SAAS,CAAA,CAAE,CAAA;AAAA,EACnE;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,aAAA,CAAc,SAAA,EAAmB,OAAA,EAAiD;AACtF,IAAA,OAAO,IAAA,CAAK,OAAA,CAAiB,OAAA,EAAS,CAAA,eAAA,EAAkB,SAAS,CAAA,CAAA,EAAI;AAAA,MACnE,IAAA,EAAM;AAAA,KACP,CAAA;AAAA,EACH;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,gBAAgB,SAAA,EAAqC;AACzD,IAAA,OAAO,KAAK,aAAA,CAAc,SAAA,EAAW,EAAE,WAAA,EAAa,MAAM,CAAA;AAAA,EAC5D;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,aAAa,OAAA,EAAmE;AACpF,IAAA,MAAM,QAAA,GAAW,MAAM,IAAA,CAAK,OAAA,CAIzB,OAAO,0BAAA,EAA4B;AAAA,MACpC,KAAA,EAAO;AAAA,QACL,WAAW,OAAA,CAAQ,SAAA;AAAA,QACnB,IAAA,EAAM,QAAQ,IAAA,IAAQ,CAAA;AAAA,QACtB,QAAA,EAAU,QAAQ,QAAA,IAAY,EAAA;AAAA,QAC9B,QAAQ,OAAA,CAAQ,MAAA;AAAA,QAChB,SAAS,OAAA,CAAQ;AAAA;AACnB,KACD,CAAA;AAED,IAAA,OAAO;AAAA,MACL,MAAM,QAAA,CAAS,IAAA;AAAA,MACf,YAAY,QAAA,CAAS,UAAA;AAAA,MACrB,WAAW,QAAA,CAAS,SAAA;AAAA,MACpB,IAAA,EAAM,QAAQ,IAAA,IAAQ,CAAA;AAAA,MACtB,QAAA,EAAU,QAAQ,QAAA,IAAY;AAAA,KAChC;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,iBAAA,CAAkB,SAAA,EAAmB,IAAA,EAA4C;AACrF,IAAA,MAAM,QAAA,GAAW,MAAM,IAAA,CAAK,YAAA,CAAa,EAAE,WAAW,MAAA,EAAQ,IAAA,EAAM,QAAA,EAAU,GAAA,EAAK,CAAA;AACnF,IAAA,OAAO,SAAS,IAAA,CAAK,IAAA,CAAK,CAAC,GAAA,KAAQ,GAAA,CAAI,SAAS,IAAI,CAAA;AAAA,EACtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,MAAM,mBAAmB,SAAA,EAA6C;AACpE,IAAA,OAAO,IAAA,CAAK,OAAA,CAAyB,KAAA,EAAO,CAAA,cAAA,EAAiB,SAAS,CAAA,eAAA,CAAiB,CAAA;AAAA,EACzF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,uBAAA,CAAwB,SAAA,EAAmB,IAAA,EAAkD;AACjG,IAAA,MAAM,OAAA,GAAU,MAAM,IAAA,CAAK,kBAAA,CAAmB,SAAS,CAAA;AACvD,IAAA,OAAO,QAAQ,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,SAAS,IAAI,CAAA;AAAA,EAC5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,MAAM,eAAe,SAAA,EAAyC;AAC5D,IAAA,OAAO,IAAA,CAAK,OAAA,CAAqB,KAAA,EAAO,CAAA,cAAA,EAAiB,SAAS,CAAA,WAAA,CAAa,CAAA;AAAA,EACjF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,mBAAA,CAAoB,SAAA,EAAmB,IAAA,EAA8C;AACzF,IAAA,MAAM,UAAA,GAAa,MAAM,IAAA,CAAK,cAAA,CAAe,SAAS,CAAA;AACtD,IAAA,OAAO,WAAW,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,SAAS,IAAI,CAAA;AAAA,EAC/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,MAAM,mBAAmB,SAAA,EAA6C;AACpE,IAAA,OAAO,IAAA,CAAK,OAAA,CAAyB,KAAA,EAAO,CAAA,cAAA,EAAiB,SAAS,CAAA,gBAAA,CAAkB,CAAA;AAAA,EAC1F;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,uBAAA,CAAwB,SAAA,EAAmB,IAAA,EAAkD;AACjG,IAAA,MAAM,MAAA,GAAS,MAAM,IAAA,CAAK,kBAAA,CAAmB,SAAS,CAAA;AACtD,IAAA,OAAO,OAAO,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,SAAS,IAAI,CAAA;AAAA,EAC3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,MAAM,YAAY,SAAA,EAAgD;AAChE,IAAA,OAAO,IAAA,CAAK,OAAA,CAA4B,KAAA,EAAO,CAAA,cAAA,EAAiB,SAAS,CAAA,QAAA,CAAU,CAAA;AAAA,EACrF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,gBAAA,CAAiB,SAAA,EAAmB,IAAA,EAAqD;AAC7F,IAAA,MAAM,OAAA,GAAU,MAAM,IAAA,CAAK,WAAA,CAAY,SAAS,CAAA;AAChD,IAAA,OAAO,QAAQ,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,SAAS,IAAI,CAAA;AAAA,EAC5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,MAAM,cAAc,SAAA,EAAwC;AAC1D,IAAA,OAAO,IAAA,CAAK,OAAA,CAAoB,KAAA,EAAO,CAAA,cAAA,EAAiB,SAAS,CAAA,UAAA,CAAY,CAAA;AAAA,EAC/E;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,kBAAA,CAAmB,SAAA,EAAmB,IAAA,EAA6C;AACvF,IAAA,MAAM,SAAA,GAAY,MAAM,IAAA,CAAK,aAAA,CAAc,SAAS,CAAA;AACpD,IAAA,OAAO,UAAU,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,SAAS,IAAI,CAAA;AAAA,EAC9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,MAAM,SAAS,SAAA,EAAmC;AAChD,IAAA,OAAO,IAAA,CAAK,OAAA,CAAe,KAAA,EAAO,CAAA,cAAA,EAAiB,SAAS,CAAA,KAAA,CAAO,CAAA;AAAA,EACrE;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,MAAM,UAAU,OAAA,EAAyC;AACvD,IAAA,OAAO,IAAA,CAAK,OAAA,CAAa,MAAA,EAAQ,wBAAA,EAA0B;AAAA,MACzD,IAAA,EAAM;AAAA,QACJ,IAAA,EAAM;AAAA,UACJ,MAAM,OAAA,CAAQ;AAAA;AAChB;AACF,KACD,CAAA;AAAA,EACH;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,aAAA,CAAc,SAAA,EAAmB,IAAA,EAAwC;AAC7E,IAAA,MAAM,IAAA,GAAO,MAAM,IAAA,CAAK,QAAA,CAAS,SAAS,CAAA;AAC1C,IAAA,OAAO,KAAK,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,SAAS,IAAI,CAAA;AAAA,EACzC;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,MAAM,eAAA,CAAgB,SAAA,EAAmB,IAAA,EAA4B;AACnE,IAAA,MAAM,QAAA,GAAW,MAAM,IAAA,CAAK,aAAA,CAAc,WAAW,IAAI,CAAA;AACzD,IAAA,IAAI,QAAA,EAAU;AACZ,MAAA,OAAO,QAAA;AAAA,IACT;AACA,IAAA,OAAO,IAAA,CAAK,SAAA,CAAU,EAAE,IAAA,EAAM,CAAA;AAAA,EAChC;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,MAAM,aAAA,CAAc,SAAA,EAAmB,aAAA,EAAuD;AAC5F,IAAA,MAAM,cAAwB,EAAC;AAC/B,IAAA,MAAM,IAAA,GAAO,MAAM,IAAA,CAAK,QAAA,CAAS,SAAS,CAAA;AAE1C,IAAA,KAAA,MAAW,YAAY,aAAA,EAAe;AACpC,MAAA,IAAI,OAAO,aAAa,QAAA,EAAU;AAChC,QAAA,WAAA,CAAY,KAAK,QAAQ,CAAA;AAAA,MAC3B,CAAA,MAAO;AACL,QAAA,IAAI,MAAM,IAAA,CAAK,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,SAAS,QAAQ,CAAA;AAC9C,QAAA,IAAI,CAAC,GAAA,EAAK;AAER,UAAA,GAAA,GAAM,MAAM,IAAA,CAAK,SAAA,CAAU,EAAE,IAAA,EAAM,UAAU,CAAA;AAAA,QAC/C;AACA,QAAA,WAAA,CAAY,IAAA,CAAK,IAAI,EAAE,CAAA;AAAA,MACzB;AAAA,IACF;AAEA,IAAA,OAAO,WAAA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,MAAM,eAAe,OAAA,EAAyD;AAC5E,IAAA,OAAO,IAAA,CAAK,OAAA,CAAwB,MAAA,EAAQ,uBAAA,EAAyB;AAAA,MACnE,IAAA,EAAM;AAAA,QACJ,WAAW,OAAA,CAAQ,SAAA;AAAA,QACnB,UAAU,OAAA,CAAQ,QAAA;AAAA,QAClB,YAAY,OAAA,CAAQ,UAAA;AAAA,QACpB,MAAM,OAAA,CAAQ,IAAA;AAAA,QACd,WAAW,OAAA,CAAQ,SAAA;AAAA,QACnB,MAAA,EAAQ,QAAQ,MAAA,IAAU,KAAA;AAAA,QAC1B,SAAA,EAAW,QAAQ,SAAA,IAAa,IAAA;AAAA,QAChC,SAAS,OAAA,CAAQ,OAAA;AAAA,QACjB,UAAU,OAAA,CAAQ;AAAA;AACpB,KACD,CAAA;AAAA,EACH;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,YAAY,MAAA,EAAyC;AACzD,IAAA,OAAO,IAAA,CAAK,OAAA,CAAwB,KAAA,EAAO,CAAA,sBAAA,EAAyB,MAAM,CAAA,CAAE,CAAA;AAAA,EAC9E;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,cAAc,OAAA,EAAyD;AAC3E,IAAA,OAAO,IAAA,CAAK,OAAA,CAA0B,KAAA,EAAO,uBAAA,EAAyB;AAAA,MACpE,KAAA,EAAO;AAAA,QACL,WAAW,OAAA,CAAQ,SAAA;AAAA,QACnB,MAAM,OAAA,CAAQ,IAAA;AAAA,QACd,WAAW,OAAA,CAAQ,SAAA;AAAA,QACnB,QAAQ,OAAA,CAAQ;AAAA;AAClB,KACD,CAAA;AAAA,EACH;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,MAAM,qBAAqB,OAAA,EAAyD;AAElF,IAAA,MAAM,QAAA,GAAW,MAAM,IAAA,CAAK,aAAA,CAAc;AAAA,MACxC,WAAW,OAAA,CAAQ,SAAA;AAAA,MACnB,MAAM,OAAA,CAAQ,IAAA;AAAA,MACd,WAAW,OAAA,CAAQ,SAAA;AAAA,MACnB,QAAQ,OAAA,CAAQ;AAAA,KACjB,CAAA;AAED,IAAA,IAAI,QAAA,CAAS,SAAS,CAAA,EAAG;AACvB,MAAA,OAAO,SAAS,CAAC,CAAA;AAAA,IACnB;AAGA,IAAA,OAAO,IAAA,CAAK,eAAe,OAAO,CAAA;AAAA,EACpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,MAAM,iBAAiB,OAAA,EAAwD;AAC7E,IAAA,OAAO,IAAA,CAAK,OAAA,CAAqB,MAAA,EAAQ,qBAAA,EAAuB;AAAA,MAC9D,IAAA,EAAM;AAAA,QACJ,WAAW,OAAA,CAAQ,SAAA;AAAA,QACnB,kBAAkB,OAAA,CAAQ,gBAAA;AAAA,QAC1B,cAAc,OAAA,CAAQ;AAAA;AACxB,KACD,CAAA;AAAA,EACH;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,gBAAgB,SAAA,EAA2C;AAC/D,IAAA,OAAO,IAAA,CAAK,OAAA,CAAuB,KAAA,EAAO,CAAA,eAAA,EAAkB,SAAS,CAAA,MAAA,CAAQ,CAAA;AAAA,EAC/E;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,eAAA,CAAgB,SAAA,EAAmB,gBAAA,EAA4D;AACnG,IAAA,MAAM,KAAA,GAAQ,MAAM,IAAA,CAAK,eAAA,CAAgB,SAAS,CAAA;AAClD,IAAA,OAAO,MAAM,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,qBAAqB,gBAAgB,CAAA;AAAA,EAClE;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,uBAAuB,OAAA,EAAwD;AACnF,IAAA,MAAM,WAAW,MAAM,IAAA,CAAK,gBAAgB,OAAA,CAAQ,SAAA,EAAW,QAAQ,gBAAgB,CAAA;AACvF,IAAA,IAAI,QAAA,EAAU;AACZ,MAAA,OAAO,QAAA;AAAA,IACT;AACA,IAAA,OAAO,IAAA,CAAK,iBAAiB,OAAO,CAAA;AAAA,EACtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,MAAM,iBAAiB,OAAA,EAA0D;AAC/E,IAAA,OAAO,IAAA,CAAK,OAAA,CAAuB,MAAA,EAAQ,uBAAA,EAAyB;AAAA,MAClE,IAAA,EAAM;AAAA,QACJ,WAAW,OAAA,CAAQ,SAAA;AAAA,QACnB,eAAe,OAAA,CAAQ,aAAA;AAAA,QACvB,UAAU,OAAA,CAAQ,QAAA;AAAA,QAClB,SAAS,OAAA,CAAQ,OAAA;AAAA,QACjB,OAAO,OAAA,CAAQ,KAAA;AAAA,QACf,UAAU,OAAA,CAAQ,QAAA;AAAA,QAClB,OAAA,EAAS,QAAQ,OAAA,IAAW;AAAA;AAC9B,KACD,CAAA;AAAA,EACH;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,eAAe,SAAA,EAA6C;AAChE,IAAA,OAAO,IAAA,CAAK,OAAA,CAAyB,KAAA,EAAO,CAAA,eAAA,EAAkB,SAAS,CAAA,QAAA,CAAU,CAAA;AAAA,EACnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUA,MAAM,iBAAA,CACJ,OAAA,EACA,UAAA,EACgC;AAChC,IAAA,MAAM,QAAA,GAAW,IAAI,QAAA,EAAS;AAG9B,IAAA,KAAA,MAAW,IAAA,IAAQ,QAAQ,KAAA,EAAO;AAChC,MAAA,QAAA,CAAS,MAAA,CAAO,SAAS,IAAI,CAAA;AAAA,IAC/B;AAGA,IAAA,QAAA,CAAS,MAAA,CAAO,WAAA,EAAa,MAAA,CAAO,OAAA,CAAQ,SAAS,CAAC,CAAA;AACtD,IAAA,IAAI,QAAQ,MAAA,EAAQ,QAAA,CAAS,MAAA,CAAO,QAAA,EAAU,QAAQ,MAAM,CAAA;AAC5D,IAAA,IAAI,OAAA,CAAQ,WAAW,QAAA,CAAS,MAAA,CAAO,aAAa,MAAA,CAAO,OAAA,CAAQ,SAAS,CAAC,CAAA;AAC7E,IAAA,IAAI,QAAQ,IAAA,EAAM,QAAA,CAAS,MAAA,CAAO,MAAA,EAAQ,QAAQ,IAAI,CAAA;AACtD,IAAA,IAAI,OAAA,CAAQ,UAAU,QAAA,CAAS,MAAA,CAAO,YAAY,MAAA,CAAO,OAAA,CAAQ,QAAQ,CAAC,CAAA;AAC1E,IAAA,IAAI,OAAA,CAAQ,aAAa,QAAA,CAAS,MAAA,CAAO,eAAe,MAAA,CAAO,OAAA,CAAQ,WAAW,CAAC,CAAA;AACnF,IAAA,IAAI,OAAA,CAAQ,SAAS,QAAA,CAAS,MAAA,CAAO,WAAW,MAAA,CAAO,OAAA,CAAQ,OAAO,CAAC,CAAA;AACvE,IAAA,IAAI,OAAA,CAAQ,gBAAgB,QAAA,CAAS,MAAA,CAAO,kBAAkB,MAAA,CAAO,OAAA,CAAQ,cAAc,CAAC,CAAA;AAC5F,IAAA,IAAI,OAAA,CAAQ,YAAY,QAAA,CAAS,MAAA,CAAO,cAAc,MAAA,CAAO,OAAA,CAAQ,UAAU,CAAC,CAAA;AAChF,IAAA,IAAI,OAAA,CAAQ,QAAQ,QAAA,CAAS,MAAA,CAAO,UAAU,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ,MAAM,CAAC,CAAA;AAE5E,IAAA,MAAM,GAAA,GAAM,IAAI,GAAA,CAAI,0BAAA,EAA4B,KAAK,OAAO,CAAA;AAE5D,IAAA,MAAM,QAAA,GAAW,MAAM,KAAA,CAAM,GAAA,CAAI,UAAS,EAAG;AAAA,MAC3C,MAAA,EAAQ,MAAA;AAAA,MACR,OAAA,EAAS;AAAA,QACP,aAAA,EAAe,CAAA,OAAA,EAAU,IAAA,CAAK,QAAQ,CAAA,CAAA;AAAA,QACtC,GAAG,IAAA,CAAK;AAAA,OACV;AAAA,MACA,IAAA,EAAM;AAAA,KACP,CAAA;AAED,IAAA,IAAI,CAAC,SAAS,EAAA,EAAI;AAChB,MAAA,MAAM,SAAA,GAAY,MAAM,QAAA,CAAS,IAAA,EAAK;AACtC,MAAA,MAAM,IAAI,eAAA,CAAgB,SAAA,IAAa,CAAA,KAAA,EAAQ,QAAA,CAAS,MAAM,CAAA,CAAA,EAAI;AAAA,QAChE,YAAY,QAAA,CAAS;AAAA,OACtB,CAAA;AAAA,IACH;AAGA,IAAA,MAAM,MAAA,GAAS,QAAA,CAAS,IAAA,EAAM,SAAA,EAAU;AACxC,IAAA,IAAI,CAAC,MAAA,EAAQ;AACX,MAAA,MAAM,IAAI,gBAAgB,kBAAkB,CAAA;AAAA,IAC9C;AAEA,IAAA,MAAM,OAAA,GAAU,IAAI,WAAA,EAAY;AAChC,IAAA,IAAI,SAAA;AAEJ,IAAA,OAAO,IAAA,EAAM;AACX,MAAA,MAAM,EAAE,IAAA,EAAM,KAAA,EAAM,GAAI,MAAM,OAAO,IAAA,EAAK;AAC1C,MAAA,IAAI,IAAA,EAAM;AAEV,MAAA,MAAM,IAAA,GAAO,OAAA,CAAQ,MAAA,CAAO,KAAK,CAAA;AACjC,MAAA,MAAM,KAAA,GAAQ,IAAA,CAAK,KAAA,CAAM,IAAI,CAAA,CAAE,MAAA,CAAO,CAAC,IAAA,KAAS,IAAA,CAAK,UAAA,CAAW,QAAQ,CAAC,CAAA;AAEzE,MAAA,KAAA,MAAW,QAAQ,KAAA,EAAO;AACxB,QAAA,MAAM,IAAA,GAAO,IAAA,CAAK,KAAA,CAAM,CAAC,CAAA;AACzB,QAAA,IAAI;AACF,UAAA,MAAM,KAAA,GAAQ,IAAA,CAAK,KAAA,CAAM,IAAI,CAAA;AAC7B,UAAA,UAAA,GAAa,KAAK,CAAA;AAElB,UAAA,IAAI,KAAA,CAAM,QAAA,IAAY,KAAA,CAAM,SAAA,EAAW;AACrC,YAAA,SAAA,GAAY,KAAA,CAAM,SAAA;AAAA,UACpB;AAEA,UAAA,IAAI,MAAM,KAAA,EAAO;AACf,YAAA,MAAM,IAAI,eAAA,CAAgB,KAAA,CAAM,KAAK,CAAA;AAAA,UACvC;AAAA,QACF,SAAS,CAAA,EAAG;AACV,UAAA,IAAI,CAAA,YAAa,iBAAiB,MAAM,CAAA;AAAA,QAE1C;AAAA,MACF;AAAA,IACF;AAEA,IAAA,IAAI,CAAC,SAAA,EAAW;AACd,MAAA,MAAM,IAAI,gBAAgB,8CAA8C,CAAA;AAAA,IAC1E;AAEA,IAAA,OAAO,EAAE,SAAA,EAAU;AAAA,EACrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,MAAM,gBAAA,CACJ,eAAA,EACA,IAAA,EACA,UACA,QAAA,EACuC;AACvC,IAAA,MAAM,QAAA,GAAW,IAAI,QAAA,EAAS;AAE9B,IAAA,IAAI,gBAAgB,MAAA,EAAQ;AAC1B,MAAA,QAAA,CAAS,MAAA,CAAO,MAAA,EAAQ,IAAI,IAAA,CAAK,CAAC,IAAI,CAAA,EAAG,EAAE,IAAA,EAAM,QAAA,EAAU,CAAA,EAAG,QAAQ,CAAA;AAAA,IACxE,CAAA,MAAO;AACL,MAAA,QAAA,CAAS,MAAA,CAAO,MAAA,EAAQ,IAAA,EAAM,QAAQ,CAAA;AAAA,IACxC;AAEA,IAAA,OAAO,KAAK,eAAA,CAAgB,MAAA,EAAQ,CAAA,sBAAA,EAAyB,eAAe,gBAAgB,QAAQ,CAAA;AAAA,EACtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,MAAM,cAAA,GAAmC;AACvC,IAAA,IAAI;AACF,MAAA,MAAM,IAAA,CAAK,OAAA,CAAiB,KAAA,EAAO,aAAa,CAAA;AAChD,MAAA,OAAO,IAAA;AAAA,IACT,CAAA,CAAA,MAAQ;AACN,MAAA,OAAO,KAAA;AAAA,IACT;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,UAAA,GAAqB;AACnB,IAAA,OAAO,IAAA,CAAK,OAAA;AAAA,EACd;AACF","file":"index.mjs","sourcesContent":["import type {\n  TestPlanItClientConfig,\n  ApiError,\n  TestRun,\n  RepositoryCase,\n  TestRunCase,\n  TestRunResult,\n  Status,\n  Project,\n  Configuration,\n  Milestone,\n  WorkflowState,\n  RepositoryFolder,\n  Template,\n  Tag,\n  CreateTestRunOptions,\n  UpdateTestRunOptions,\n  CreateTestCaseOptions,\n  CreateTagOptions,\n  AddTestCaseToRunOptions,\n  CreateTestResultOptions,\n  ListTestRunsOptions,\n  PaginatedResponse,\n  FindTestCaseOptions,\n  ImportTestResultsOptions,\n  ImportProgressEvent,\n  NormalizedStatus,\n} from './types.js';\n\n/**\n * Custom error class for TestPlanIt API errors\n */\nexport class TestPlanItError extends Error {\n  public statusCode?: number;\n  public code?: string;\n  public details?: unknown;\n\n  constructor(message: string, options?: Partial<ApiError>) {\n    super(message);\n    this.name = 'TestPlanItError';\n    this.statusCode = options?.statusCode;\n    this.code = options?.code;\n    this.details = options?.details;\n  }\n}\n\n/**\n * TestPlanIt API Client\n *\n * Official JavaScript/TypeScript client for interacting with the TestPlanIt API.\n *\n * @example\n * ```typescript\n * import { TestPlanItClient } from '@testplanit/api';\n *\n * const client = new TestPlanItClient({\n *   baseUrl: 'https://testplanit.example.com',\n *   apiToken: 'tpi_your_token_here',\n * });\n *\n * // Create a test run\n * const testRun = await client.createTestRun({\n *   projectId: 1,\n *   name: 'Automated Test Run',\n * });\n * ```\n */\nexport class TestPlanItClient {\n  private readonly baseUrl: string;\n  private readonly apiToken: string;\n  private readonly timeout: number;\n  private readonly maxRetries: number;\n  private readonly retryDelay: number;\n  private readonly headers: Record<string, string>;\n\n  // Cache for statuses to avoid repeated lookups\n  private statusCache: Map<number, Status[]> = new Map();\n\n  constructor(config: TestPlanItClientConfig) {\n    if (!config.baseUrl) {\n      throw new TestPlanItError('baseUrl is required');\n    }\n    if (!config.apiToken) {\n      throw new TestPlanItError('apiToken is required');\n    }\n\n    // Normalize base URL (remove trailing slash)\n    this.baseUrl = config.baseUrl.replace(/\\/$/, '');\n    this.apiToken = config.apiToken;\n    this.timeout = config.timeout ?? 30000;\n    this.maxRetries = config.maxRetries ?? 3;\n    this.retryDelay = config.retryDelay ?? 1000;\n    this.headers = config.headers ?? {};\n  }\n\n  // ============================================================================\n  // HTTP Methods\n  // ============================================================================\n\n  /**\n   * Make an authenticated request to the API\n   */\n  private async request<T>(\n    method: string,\n    path: string,\n    options?: {\n      body?: unknown;\n      query?: Record<string, string | number | boolean | undefined>;\n      headers?: Record<string, string>;\n    }\n  ): Promise<T> {\n    const url = new URL(path, this.baseUrl);\n\n    // Add query parameters\n    if (options?.query) {\n      for (const [key, value] of Object.entries(options.query)) {\n        if (value !== undefined) {\n          url.searchParams.set(key, String(value));\n        }\n      }\n    }\n\n    const headers: Record<string, string> = {\n      Authorization: `Bearer ${this.apiToken}`,\n      'Content-Type': 'application/json',\n      ...this.headers,\n      ...options?.headers,\n    };\n\n    const fetchOptions: RequestInit = {\n      method,\n      headers,\n      signal: AbortSignal.timeout(this.timeout),\n    };\n\n    if (options?.body && method !== 'GET') {\n      fetchOptions.body = JSON.stringify(options.body);\n    }\n\n    let lastError: Error | undefined;\n\n    for (let attempt = 0; attempt <= this.maxRetries; attempt++) {\n      try {\n        const response = await fetch(url.toString(), fetchOptions);\n\n        if (!response.ok) {\n          const errorBody = await response.text();\n          let errorMessage = `HTTP ${response.status}: ${response.statusText}`;\n          let errorDetails: unknown;\n\n          try {\n            const parsed = JSON.parse(errorBody);\n            errorMessage = parsed.message || parsed.error || errorMessage;\n            errorDetails = parsed;\n          } catch {\n            // Body is not JSON\n            if (errorBody) {\n              errorMessage = errorBody;\n            }\n          }\n\n          throw new TestPlanItError(errorMessage, {\n            statusCode: response.status,\n            details: errorDetails,\n          });\n        }\n\n        // Handle empty responses\n        const text = await response.text();\n        if (!text) {\n          return undefined as T;\n        }\n\n        return JSON.parse(text) as T;\n      } catch (error) {\n        lastError = error instanceof Error ? error : new Error(String(error));\n\n        // Don't retry on client errors (4xx) except 429 (rate limit)\n        if (error instanceof TestPlanItError) {\n          if (error.statusCode && error.statusCode >= 400 && error.statusCode < 500 && error.statusCode !== 429) {\n            throw error;\n          }\n        }\n\n        // Wait before retrying\n        if (attempt < this.maxRetries) {\n          await this.sleep(this.retryDelay * (attempt + 1));\n        }\n      }\n    }\n\n    throw lastError;\n  }\n\n  /**\n   * Make a multipart form data request\n   */\n  private async requestFormData<T>(\n    method: string,\n    path: string,\n    formData: FormData,\n    options?: {\n      query?: Record<string, string | number | boolean | undefined>;\n    }\n  ): Promise<T> {\n    const url = new URL(path, this.baseUrl);\n\n    if (options?.query) {\n      for (const [key, value] of Object.entries(options.query)) {\n        if (value !== undefined) {\n          url.searchParams.set(key, String(value));\n        }\n      }\n    }\n\n    const headers: Record<string, string> = {\n      Authorization: `Bearer ${this.apiToken}`,\n      ...this.headers,\n    };\n\n    // Don't set Content-Type - let fetch set it with boundary\n    const fetchOptions: RequestInit = {\n      method,\n      headers,\n      body: formData,\n      signal: AbortSignal.timeout(this.timeout),\n    };\n\n    const response = await fetch(url.toString(), fetchOptions);\n\n    if (!response.ok) {\n      const errorBody = await response.text();\n      let errorMessage = `HTTP ${response.status}: ${response.statusText}`;\n\n      try {\n        const parsed = JSON.parse(errorBody);\n        errorMessage = parsed.message || parsed.error || errorMessage;\n      } catch {\n        if (errorBody) {\n          errorMessage = errorBody;\n        }\n      }\n\n      throw new TestPlanItError(errorMessage, { statusCode: response.status });\n    }\n\n    const text = await response.text();\n    if (!text) {\n      return undefined as T;\n    }\n\n    return JSON.parse(text) as T;\n  }\n\n  private sleep(ms: number): Promise<void> {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  }\n\n  // ============================================================================\n  // Projects\n  // ============================================================================\n\n  /**\n   * Get project by ID\n   */\n  async getProject(projectId: number): Promise<Project> {\n    return this.request<Project>('GET', `/api/projects/${projectId}`);\n  }\n\n  /**\n   * List all projects accessible to the authenticated user\n   */\n  async listProjects(): Promise<Project[]> {\n    return this.request<Project[]>('GET', '/api/projects');\n  }\n\n  // ============================================================================\n  // Statuses\n  // ============================================================================\n\n  /**\n   * Get all statuses for a project\n   */\n  async getStatuses(projectId: number): Promise<Status[]> {\n    // Check cache first\n    if (this.statusCache.has(projectId)) {\n      return this.statusCache.get(projectId)!;\n    }\n\n    const statuses = await this.request<Status[]>('GET', `/api/projects/${projectId}/statuses`);\n    this.statusCache.set(projectId, statuses);\n    return statuses;\n  }\n\n  /**\n   * Get status ID for a normalized status name\n   */\n  async getStatusId(projectId: number, status: NormalizedStatus): Promise<number | undefined> {\n    const statuses = await this.getStatuses(projectId);\n\n    // Map normalized status to system names\n    const systemNameMap: Record<NormalizedStatus, string[]> = {\n      passed: ['passed', 'pass', 'success'],\n      failed: ['failed', 'fail', 'failure', 'error'],\n      skipped: ['skipped', 'skip', 'ignored'],\n      blocked: ['blocked', 'block'],\n      pending: ['pending', 'untested', 'not_run'],\n    };\n\n    const systemNames = systemNameMap[status];\n\n    for (const systemName of systemNames) {\n      const found = statuses.find(\n        (s) =>\n          s.systemName.toLowerCase() === systemName ||\n          s.name.toLowerCase() === systemName ||\n          s.aliases?.toLowerCase().includes(systemName)\n      );\n      if (found) {\n        return found.id;\n      }\n    }\n\n    return undefined;\n  }\n\n  /**\n   * Clear the status cache (useful if statuses are updated)\n   */\n  clearStatusCache(): void {\n    this.statusCache.clear();\n  }\n\n  // ============================================================================\n  // Test Runs\n  // ============================================================================\n\n  /**\n   * Create a new test run\n   */\n  async createTestRun(options: CreateTestRunOptions): Promise<TestRun> {\n    return this.request<TestRun>('POST', '/api/test-runs', {\n      body: {\n        projectId: options.projectId,\n        name: options.name,\n        testRunType: options.testRunType ?? 'REGULAR',\n        configId: options.configId,\n        milestoneId: options.milestoneId,\n        stateId: options.stateId,\n      },\n    });\n  }\n\n  /**\n   * Get a test run by ID\n   */\n  async getTestRun(testRunId: number): Promise<TestRun> {\n    return this.request<TestRun>('GET', `/api/test-runs/${testRunId}`);\n  }\n\n  /**\n   * Update a test run\n   */\n  async updateTestRun(testRunId: number, options: UpdateTestRunOptions): Promise<TestRun> {\n    return this.request<TestRun>('PATCH', `/api/test-runs/${testRunId}`, {\n      body: options,\n    });\n  }\n\n  /**\n   * Complete a test run\n   */\n  async completeTestRun(testRunId: number): Promise<TestRun> {\n    return this.updateTestRun(testRunId, { isCompleted: true });\n  }\n\n  /**\n   * List test runs for a project\n   */\n  async listTestRuns(options: ListTestRunsOptions): Promise<PaginatedResponse<TestRun>> {\n    const response = await this.request<{\n      runs: TestRun[];\n      totalCount: number;\n      pageCount: number;\n    }>('GET', '/api/test-runs/completed', {\n      query: {\n        projectId: options.projectId,\n        page: options.page ?? 1,\n        pageSize: options.pageSize ?? 25,\n        search: options.search,\n        runType: options.runType,\n      },\n    });\n\n    return {\n      data: response.runs,\n      totalCount: response.totalCount,\n      pageCount: response.pageCount,\n      page: options.page ?? 1,\n      pageSize: options.pageSize ?? 25,\n    };\n  }\n\n  /**\n   * Find a test run by name (exact match)\n   */\n  async findTestRunByName(projectId: number, name: string): Promise<TestRun | undefined> {\n    const response = await this.listTestRuns({ projectId, search: name, pageSize: 100 });\n    return response.data.find((run) => run.name === name);\n  }\n\n  // ============================================================================\n  // Configurations\n  // ============================================================================\n\n  /**\n   * List all configurations for a project\n   */\n  async listConfigurations(projectId: number): Promise<Configuration[]> {\n    return this.request<Configuration[]>('GET', `/api/projects/${projectId}/configurations`);\n  }\n\n  /**\n   * Find a configuration by name (exact match)\n   */\n  async findConfigurationByName(projectId: number, name: string): Promise<Configuration | undefined> {\n    const configs = await this.listConfigurations(projectId);\n    return configs.find((c) => c.name === name);\n  }\n\n  // ============================================================================\n  // Milestones\n  // ============================================================================\n\n  /**\n   * List all milestones for a project\n   */\n  async listMilestones(projectId: number): Promise<Milestone[]> {\n    return this.request<Milestone[]>('GET', `/api/projects/${projectId}/milestones`);\n  }\n\n  /**\n   * Find a milestone by name (exact match)\n   */\n  async findMilestoneByName(projectId: number, name: string): Promise<Milestone | undefined> {\n    const milestones = await this.listMilestones(projectId);\n    return milestones.find((m) => m.name === name);\n  }\n\n  // ============================================================================\n  // Workflow States\n  // ============================================================================\n\n  /**\n   * List all workflow states for a project\n   */\n  async listWorkflowStates(projectId: number): Promise<WorkflowState[]> {\n    return this.request<WorkflowState[]>('GET', `/api/projects/${projectId}/workflow-states`);\n  }\n\n  /**\n   * Find a workflow state by name (exact match)\n   */\n  async findWorkflowStateByName(projectId: number, name: string): Promise<WorkflowState | undefined> {\n    const states = await this.listWorkflowStates(projectId);\n    return states.find((s) => s.name === name);\n  }\n\n  // ============================================================================\n  // Repository Folders\n  // ============================================================================\n\n  /**\n   * List all folders for a project\n   */\n  async listFolders(projectId: number): Promise<RepositoryFolder[]> {\n    return this.request<RepositoryFolder[]>('GET', `/api/projects/${projectId}/folders`);\n  }\n\n  /**\n   * Find a folder by name (exact match)\n   */\n  async findFolderByName(projectId: number, name: string): Promise<RepositoryFolder | undefined> {\n    const folders = await this.listFolders(projectId);\n    return folders.find((f) => f.name === name);\n  }\n\n  // ============================================================================\n  // Templates\n  // ============================================================================\n\n  /**\n   * List all templates for a project\n   */\n  async listTemplates(projectId: number): Promise<Template[]> {\n    return this.request<Template[]>('GET', `/api/projects/${projectId}/templates`);\n  }\n\n  /**\n   * Find a template by name (exact match)\n   */\n  async findTemplateByName(projectId: number, name: string): Promise<Template | undefined> {\n    const templates = await this.listTemplates(projectId);\n    return templates.find((t) => t.name === name);\n  }\n\n  // ============================================================================\n  // Tags\n  // ============================================================================\n\n  /**\n   * List all tags for a project\n   */\n  async listTags(projectId: number): Promise<Tag[]> {\n    return this.request<Tag[]>('GET', `/api/projects/${projectId}/tags`);\n  }\n\n  /**\n   * Create a new tag\n   * Tags are global (not project-scoped) and can be used across all projects\n   */\n  async createTag(options: CreateTagOptions): Promise<Tag> {\n    return this.request<Tag>('POST', '/api/model/tags/create', {\n      body: {\n        data: {\n          name: options.name,\n        },\n      },\n    });\n  }\n\n  /**\n   * Find a tag by name (exact match)\n   */\n  async findTagByName(projectId: number, name: string): Promise<Tag | undefined> {\n    const tags = await this.listTags(projectId);\n    return tags.find((t) => t.name === name);\n  }\n\n  /**\n   * Find or create a tag by name\n   * Tags are global (not project-scoped)\n   */\n  async findOrCreateTag(projectId: number, name: string): Promise<Tag> {\n    const existing = await this.findTagByName(projectId, name);\n    if (existing) {\n      return existing;\n    }\n    return this.createTag({ name });\n  }\n\n  /**\n   * Resolve multiple tag IDs or names to numeric IDs\n   * If a tag name doesn't exist, it will be created automatically\n   */\n  async resolveTagIds(projectId: number, tagIdsOrNames: (number | string)[]): Promise<number[]> {\n    const resolvedIds: number[] = [];\n    const tags = await this.listTags(projectId);\n\n    for (const idOrName of tagIdsOrNames) {\n      if (typeof idOrName === 'number') {\n        resolvedIds.push(idOrName);\n      } else {\n        let tag = tags.find((t) => t.name === idOrName);\n        if (!tag) {\n          // Create the tag if it doesn't exist\n          tag = await this.createTag({ name: idOrName });\n        }\n        resolvedIds.push(tag.id);\n      }\n    }\n\n    return resolvedIds;\n  }\n\n  // ============================================================================\n  // Test Cases (Repository Cases)\n  // ============================================================================\n\n  /**\n   * Create a new test case in the repository\n   */\n  async createTestCase(options: CreateTestCaseOptions): Promise<RepositoryCase> {\n    return this.request<RepositoryCase>('POST', '/api/repository-cases', {\n      body: {\n        projectId: options.projectId,\n        folderId: options.folderId,\n        templateId: options.templateId,\n        name: options.name,\n        className: options.className,\n        source: options.source ?? 'API',\n        automated: options.automated ?? true,\n        stateId: options.stateId,\n        estimate: options.estimate,\n      },\n    });\n  }\n\n  /**\n   * Get a test case by ID\n   */\n  async getTestCase(caseId: number): Promise<RepositoryCase> {\n    return this.request<RepositoryCase>('GET', `/api/repository-cases/${caseId}`);\n  }\n\n  /**\n   * Find test cases matching criteria\n   */\n  async findTestCases(options: FindTestCaseOptions): Promise<RepositoryCase[]> {\n    return this.request<RepositoryCase[]>('GET', '/api/repository-cases', {\n      query: {\n        projectId: options.projectId,\n        name: options.name,\n        className: options.className,\n        source: options.source,\n      },\n    });\n  }\n\n  /**\n   * Find or create a test case\n   * Searches for an existing case by name/className, creates if not found\n   */\n  async findOrCreateTestCase(options: CreateTestCaseOptions): Promise<RepositoryCase> {\n    // Try to find existing\n    const existing = await this.findTestCases({\n      projectId: options.projectId,\n      name: options.name,\n      className: options.className,\n      source: options.source,\n    });\n\n    if (existing.length > 0) {\n      return existing[0];\n    }\n\n    // Create new\n    return this.createTestCase(options);\n  }\n\n  // ============================================================================\n  // Test Run Cases (linking cases to runs)\n  // ============================================================================\n\n  /**\n   * Add a test case to a test run\n   */\n  async addTestCaseToRun(options: AddTestCaseToRunOptions): Promise<TestRunCase> {\n    return this.request<TestRunCase>('POST', '/api/test-run-cases', {\n      body: {\n        testRunId: options.testRunId,\n        repositoryCaseId: options.repositoryCaseId,\n        assignedToId: options.assignedToId,\n      },\n    });\n  }\n\n  /**\n   * Get test run cases for a test run\n   */\n  async getTestRunCases(testRunId: number): Promise<TestRunCase[]> {\n    return this.request<TestRunCase[]>('GET', `/api/test-runs/${testRunId}/cases`);\n  }\n\n  /**\n   * Find a test run case by repository case ID\n   */\n  async findTestRunCase(testRunId: number, repositoryCaseId: number): Promise<TestRunCase | undefined> {\n    const cases = await this.getTestRunCases(testRunId);\n    return cases.find((c) => c.repositoryCaseId === repositoryCaseId);\n  }\n\n  /**\n   * Find or add a test case to a run\n   */\n  async findOrAddTestCaseToRun(options: AddTestCaseToRunOptions): Promise<TestRunCase> {\n    const existing = await this.findTestRunCase(options.testRunId, options.repositoryCaseId);\n    if (existing) {\n      return existing;\n    }\n    return this.addTestCaseToRun(options);\n  }\n\n  // ============================================================================\n  // Test Results\n  // ============================================================================\n\n  /**\n   * Create a test result\n   */\n  async createTestResult(options: CreateTestResultOptions): Promise<TestRunResult> {\n    return this.request<TestRunResult>('POST', '/api/test-run-results', {\n      body: {\n        testRunId: options.testRunId,\n        testRunCaseId: options.testRunCaseId,\n        statusId: options.statusId,\n        elapsed: options.elapsed,\n        notes: options.notes,\n        evidence: options.evidence,\n        attempt: options.attempt ?? 1,\n      },\n    });\n  }\n\n  /**\n   * Get test results for a test run\n   */\n  async getTestResults(testRunId: number): Promise<TestRunResult[]> {\n    return this.request<TestRunResult[]>('GET', `/api/test-runs/${testRunId}/results`);\n  }\n\n  // ============================================================================\n  // Bulk Import\n  // ============================================================================\n\n  /**\n   * Import test results from files (JUnit, TestNG, etc.)\n   * Returns a stream of progress events\n   */\n  async importTestResults(\n    options: ImportTestResultsOptions,\n    onProgress?: (event: ImportProgressEvent) => void\n  ): Promise<{ testRunId: number }> {\n    const formData = new FormData();\n\n    // Add files\n    for (const file of options.files) {\n      formData.append('files', file);\n    }\n\n    // Add options\n    formData.append('projectId', String(options.projectId));\n    if (options.format) formData.append('format', options.format);\n    if (options.testRunId) formData.append('testRunId', String(options.testRunId));\n    if (options.name) formData.append('name', options.name);\n    if (options.configId) formData.append('configId', String(options.configId));\n    if (options.milestoneId) formData.append('milestoneId', String(options.milestoneId));\n    if (options.stateId) formData.append('stateId', String(options.stateId));\n    if (options.parentFolderId) formData.append('parentFolderId', String(options.parentFolderId));\n    if (options.templateId) formData.append('templateId', String(options.templateId));\n    if (options.tagIds) formData.append('tagIds', JSON.stringify(options.tagIds));\n\n    const url = new URL('/api/test-results/import', this.baseUrl);\n\n    const response = await fetch(url.toString(), {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${this.apiToken}`,\n        ...this.headers,\n      },\n      body: formData,\n    });\n\n    if (!response.ok) {\n      const errorBody = await response.text();\n      throw new TestPlanItError(errorBody || `HTTP ${response.status}`, {\n        statusCode: response.status,\n      });\n    }\n\n    // Handle SSE response\n    const reader = response.body?.getReader();\n    if (!reader) {\n      throw new TestPlanItError('No response body');\n    }\n\n    const decoder = new TextDecoder();\n    let testRunId: number | undefined;\n\n    while (true) {\n      const { done, value } = await reader.read();\n      if (done) break;\n\n      const text = decoder.decode(value);\n      const lines = text.split('\\n').filter((line) => line.startsWith('data: '));\n\n      for (const line of lines) {\n        const data = line.slice(6); // Remove 'data: '\n        try {\n          const event = JSON.parse(data) as ImportProgressEvent;\n          onProgress?.(event);\n\n          if (event.complete && event.testRunId) {\n            testRunId = event.testRunId;\n          }\n\n          if (event.error) {\n            throw new TestPlanItError(event.error);\n          }\n        } catch (e) {\n          if (e instanceof TestPlanItError) throw e;\n          // Ignore JSON parse errors for partial data\n        }\n      }\n    }\n\n    if (!testRunId) {\n      throw new TestPlanItError('Import completed but no test run ID returned');\n    }\n\n    return { testRunId };\n  }\n\n  // ============================================================================\n  // Attachments\n  // ============================================================================\n\n  /**\n   * Upload an attachment to a test result\n   */\n  async uploadAttachment(\n    testRunResultId: number,\n    file: Blob | Buffer,\n    fileName: string,\n    mimeType?: string\n  ): Promise<{ id: number; path: string }> {\n    const formData = new FormData();\n\n    if (file instanceof Buffer) {\n      formData.append('file', new Blob([file], { type: mimeType }), fileName);\n    } else {\n      formData.append('file', file, fileName);\n    }\n\n    return this.requestFormData('POST', `/api/test-run-results/${testRunResultId}/attachments`, formData);\n  }\n\n  // ============================================================================\n  // Utilities\n  // ============================================================================\n\n  /**\n   * Test the API connection\n   */\n  async testConnection(): Promise<boolean> {\n    try {\n      await this.request<unknown>('GET', '/api/health');\n      return true;\n    } catch {\n      return false;\n    }\n  }\n\n  /**\n   * Get the base URL\n   */\n  getBaseUrl(): string {\n    return this.baseUrl;\n  }\n}\n"]}